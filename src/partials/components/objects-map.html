<div id="map-objects">

</div>



<script src="https://api-maps.yandex.ru/2.1/?apikey=1de59718-09bb-4996-ad56-66757c1970f0&lang=ru_RU"
    type="text/javascript">
    </script>

<script>

    // –§—É–Ω–∫—Ü–∏—è ymaps.ready() –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞, –∫–æ–≥–¥–∞
    // –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã API, –∞ —Ç–∞–∫–∂–µ –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ DOM-–¥–µ—Ä–µ–≤–æ.
    ymaps.ready(init);
    function init() {
        // –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã.
        var myMap = new ymaps.Map("map-objects", {
            center: [55.763263, 37.613748],
            zoom: 13,
            controls: [],
        });

        // üîπ –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ç–æ—Ä
        const clusterer = new ymaps.Clusterer({
            preset: 'islands#invertedVioletClusterIcons',
            gridSize: 128,
            minClusterSize: 2,
        });

        const markers = [
            {
                coords: [55.763263, 37.613748],
                text: '–æ—Ç 7500000 ‚ÇΩ '
            },
            {
                coords: [55.751574, 37.573856],
                text: '–æ—Ç 5500000 ‚ÇΩ '
            },

            {
                coords: [54.751574, 37.573856],
                text: '–æ—Ç 5500000 ‚ÇΩ '
            }
        ];


        function balloonhtml(data) {
            let objHtml = `

            <button class="balloon-close" onclick="ymaps.geoQuery(window.myMap.geoObjects).get(0).balloon.close()">
               <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.52827 3.52876C3.78862 3.26841 4.21073 3.26841 4.47108 3.52876L7.99967 7.05735L11.5283 3.52876C11.7886 3.26841 12.2107 3.26841 12.4711 3.52876C12.7314 3.78911 12.7314 4.21122 12.4711 4.47157L8.94248 8.00016L12.4711 11.5288C12.7314 11.7891 12.7314 12.2112 12.4711 12.4716C12.2107 12.7319 11.7886 12.7319 11.5283 12.4716L7.99967 8.94297L4.47108 12.4716C4.21073 12.7319 3.78862 12.7319 3.52827 12.4716C3.26792 12.2112 3.26792 11.7891 3.52827 11.5288L7.05687 8.00016L3.52827 4.47157C3.26792 4.21122 3.26792 3.78911 3.52827 3.52876Z" fill="#85D2A9"/>
                </svg>
            </button>
            <div class="object">

            <div class="object__top">
                <a href="/object" class="object__img-wrapper">
                    <img src="/src/img/_src/object-1.png" alt="" class="object__img">

                    <div class="object__sale">–°–∫–∏–¥–∫–∞ -5%</div>

                    <div class="object__status-row">
                        <div class="object__status-element">–°—Ç—Ä–æ–∏—Ç—å—Å—è</div>
                        <div class="object__status-element">–ü—Ä–µ–º–∏—É–º</div>
                    </div>
                </a>

                <div class="object__main-info">
                    <p class="object__title">
                        <a href="/object" class="object__title-link">–ñ–ö –¢–æ–ø –•–∏–ª–ª—Å ( TopHills )</a>
                    </p>

                    <ul class="object__locations-list">
                        <li class="object__locations-list-element">
                            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M9.5 1.58398C6.01667 1.58398 3.16667 4.43398 3.16667 7.91732C3.16667 12.1923 8.70833 17.0215 8.94583 17.259C9.10417 17.3382 9.34167 17.4173 9.5 17.4173C9.65833 17.4173 9.89583 17.3382 10.0542 17.259C10.2917 17.0215 15.8333 12.1923 15.8333 7.91732C15.8333 4.43398 12.9833 1.58398 9.5 1.58398ZM9.5 15.5965C7.8375 14.0132 4.75 10.609 4.75 7.91732C4.75 5.30482 6.8875 3.16732 9.5 3.16732C12.1125 3.16732 14.25 5.30482 14.25 7.91732C14.25 10.5298 11.1625 14.0132 9.5 15.5965ZM9.5 4.75065C7.75833 4.75065 6.33333 6.17565 6.33333 7.91732C6.33333 9.65898 7.75833 11.084 9.5 11.084C11.2417 11.084 12.6667 9.65898 12.6667 7.91732C12.6667 6.17565 11.2417 4.75065 9.5 4.75065ZM9.5 9.50065C8.62917 9.50065 7.91667 8.78815 7.91667 7.91732C7.91667 7.04648 8.62917 6.33398 9.5 6.33398C10.3708 6.33398 11.0833 7.04648 11.0833 7.91732C11.0833 8.78815 10.3708 9.50065 9.5 9.50065Z"
                                    fill="#9AA4B2" />
                            </svg>

                            <span class="object__locations-list-element-text">—É–ª–∏—Ü–∞ –ì–æ–¥–æ–≤–∏–∫–æ–≤–∞, 11–∫2, –ú–æ—Å–∫–≤–∞</span>
                        </li>

                        <li class="object__locations-list-element">
                            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M12.9015 14.8151H13.2367C13.6566 14.8151 14.0593 14.6483 14.3563 14.3514C14.6532 14.0544 14.82 13.6517 14.82 13.2318V3.73177C14.82 3.31184 14.6532 2.90912 14.3563 2.61219C14.0593 2.31525 13.6566 2.14844 13.2367 2.14844H5.76335C5.34342 2.14844 4.9407 2.31525 4.64376 2.61219C4.34683 2.90912 4.18002 3.31184 4.18002 3.73177V13.2318C4.18002 13.6517 4.34683 14.0544 4.64376 14.3514C4.9407 14.6483 5.34342 14.8151 5.76335 14.8151H6.09849L3.8396 16.8365H5.27779L6.00085 16.19H13.0124L13.7354 16.8365H15.1604L12.9015 14.8151ZM12.6667 13.8414C12.5101 13.8414 12.357 13.7949 12.2269 13.7079C12.0967 13.6209 11.9952 13.4973 11.9353 13.3526C11.8754 13.208 11.8597 13.0488 11.8902 12.8952C11.9208 12.7417 11.9962 12.6006 12.1069 12.4899C12.2176 12.3792 12.3587 12.3038 12.5122 12.2732C12.6658 12.2427 12.825 12.2584 12.9696 12.3183C13.1143 12.3782 13.2379 12.4797 13.3249 12.6099C13.4119 12.74 13.4583 12.8931 13.4583 13.0497C13.4601 13.1541 13.4409 13.2579 13.4017 13.3547C13.3626 13.4516 13.3043 13.5396 13.2305 13.6135C13.1566 13.6873 13.0686 13.7456 12.9717 13.7847C12.8749 13.8239 12.7711 13.8431 12.6667 13.8414ZM7.72668 2.75802H11.2707C11.3862 2.75802 11.4969 2.80389 11.5786 2.88555C11.6603 2.96721 11.7061 3.07796 11.7061 3.19344C11.7061 3.30892 11.6603 3.41967 11.5786 3.50132C11.4969 3.58298 11.3862 3.62885 11.2707 3.62885H7.72932C7.61384 3.62885 7.50309 3.58298 7.42144 3.50132C7.33978 3.41967 7.2939 3.30892 7.2939 3.19344C7.2939 3.07796 7.33978 2.96721 7.42144 2.88555C7.50309 2.80389 7.61384 2.75802 7.72932 2.75802H7.72668ZM4.97168 9.03858V5.05385C4.97168 4.84389 5.05509 4.64253 5.20356 4.49406C5.35202 4.34559 5.55339 4.26219 5.76335 4.26219H13.2367C13.4466 4.26219 13.648 4.34559 13.7965 4.49406C13.9449 4.64253 14.0283 4.84389 14.0283 5.05385V9.03858C14.0283 9.24854 13.9449 9.4499 13.7965 9.59837C13.648 9.74684 13.4466 9.83024 13.2367 9.83024H5.76335C5.55339 9.83024 5.35202 9.74684 5.20356 9.59837C5.05509 9.4499 4.97168 9.24854 4.97168 9.03858ZM5.54168 13.0629C5.5417 12.9057 5.58849 12.7522 5.67607 12.6217C5.76366 12.4913 5.88809 12.3898 6.03352 12.3303C6.17895 12.2708 6.3388 12.2559 6.49271 12.2875C6.64663 12.3192 6.78765 12.3959 6.89783 12.5079C7.008 12.62 7.08234 12.7623 7.11138 12.9167C7.14042 13.0711 7.12285 13.2307 7.0609 13.3751C6.99895 13.5195 6.89543 13.6422 6.76352 13.7276C6.6316 13.813 6.47727 13.8572 6.32016 13.8545C6.2168 13.8546 6.11449 13.834 6.01917 13.7941C5.92385 13.7541 5.83744 13.6956 5.76497 13.6219C5.69251 13.5482 5.63545 13.4608 5.59711 13.3648C5.55877 13.2689 5.53993 13.1662 5.54168 13.0629ZM7.03793 15.24L7.50765 14.8151H11.5003L11.9515 15.24H7.03793Z"
                                    fill="#9AA4B2" />
                            </svg>

                            <span class="object__locations-list-element-text">–ê–≤—Ç–æ–∑–∞–≤–æ–¥—Å–∫–∞—è</span>
                        </li>
                    </ul>

                    <ul class="object__price-list">
                        <li class="object__price-list-element">
                            <span class="object__price-list-element-name-apart">1-–∫–æ–º–Ω–∞—Ç–Ω—ã–µ¬†–æ—Ç <b>24.4–º¬≤</b></span>
                            <span class="object__price-list-element-price">11 –º–ª–Ω. —Ä.</span>
                        </li>

                        <li class="object__price-list-element">
                            <span class="object__price-list-element-name-apart">2-–∫–æ–º–Ω–∞—Ç–Ω—ã–µ¬†–æ—Ç <b>42.6–º¬≤</b></span>
                            <span class="object__price-list-element-price">13 –º–ª–Ω. —Ä.</span>
                        </li>

                        <li class="object__price-list-element">
                            <span class="object__price-list-element-name-apart">3-–∫–æ–º–Ω–∞—Ç–Ω—ã–µ¬†–æ—Ç <b>58.3–º¬≤</b></span>
                            <span class="object__price-list-element-price"> 14 –º–ª–Ω. —Ä.</span>
                        </li>
                    </ul>

                    <p class="object__description">
                        –°–µ–º–µ–π–Ω—ã–π –∂–∏–ª–æ–π –∫–≤–∞—Ä—Ç–∞–ª iLove —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –ø—è—Ç–∏ –∫–æ—Ä–ø—É—Å–æ–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —ç—Ç–∞–∂–Ω–æ—Å—Ç–∏ ‚Äî –æ—Ç 10 –¥–æ 35 —ç—Ç–∞–∂–µ–π. –ò–∑
                        –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –æ–∫–æ–Ω –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤–∏–¥—ã –Ω–∞ –ø–∞–Ω–æ—Ä–∞–º—É –≥–æ—Ä–æ–¥–∞ –∏ –û—Å—Ç–∞–Ω–∫–∏–Ω—Å–∫—É—é –±–∞—à–Ω—é.
                    </p>
                </div>

            </div>

            <div class="object__down">
                <a href="" class="object__btn">–û–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –æ–±—å–µ–∫—Ç–æ–º</a>
            </div>

        </div>`
            return objHtml;
        }


        markers.forEach(element => {
            // –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–∫–∏ —Å –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é.
            var squareLayout = ymaps.templateLayoutFactory.createClass(
                `<div class="placemark_layout_container">
                <div class="square_layout">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.4004 10C11.9527 10 12.4004 9.55228 12.4004 9C12.4004 8.44772 11.9527 8 11.4004 8C10.8481 8 10.4004 8.44772 10.4004 9C10.4004 9.55228 10.8481 10 11.4004 10Z" stroke="white"/>
                <path d="M7.5998 4.3998C8.04163 4.3998 8.3998 4.04163 8.3998 3.5998C8.3998 3.15798 8.04163 2.7998 7.5998 2.7998C7.15798 2.7998 6.7998 3.15798 6.7998 3.5998C6.7998 4.04163 7.15798 4.3998 7.5998 4.3998Z" stroke="white"/>
                <path d="M14.4004 8.4L11.4004 6L8.40039 8.4V14.4H14.4004V8.4Z" stroke="white"/>
                <path d="M4.58791 5.00992L4.87087 5.29264L5.05495 5.10844L4.96099 4.86556L4.58791 5.00992ZM6.18943 6.6118L6.33387 6.2388L6.09103 6.14476L5.90675 6.3288L6.18943 6.6118ZM1.6002 7.9998L1.31725 7.71704L1.2002 7.8342V7.9998H1.6002ZM1.6002 9.5998H1.2002V9.9998H1.6002V9.5998ZM3.2002 9.5998V9.9998H3.36588L3.48304 9.88264L3.2002 9.5998ZM4.0002 8.7998L4.28303 9.08264L4.40019 8.96548V8.7998H4.0002ZM4.0002 7.5998V7.1998H3.60019V7.5998H4.0002ZM5.20019 7.5998V7.9998H5.36572L5.48287 7.88284L5.20019 7.5998ZM9.60019 3.9998C9.60019 5.32528 8.52567 6.3998 7.20019 6.3998V7.1998C8.96751 7.1998 10.4002 5.76712 10.4002 3.9998H9.60019ZM4.80019 3.9998C4.80019 2.67432 5.87471 1.5998 7.20019 1.5998V0.799805C5.43287 0.799805 4.0002 2.23249 4.0002 3.9998H4.80019ZM7.20019 1.5998C8.52567 1.5998 9.60019 2.67432 9.60019 3.9998H10.4002C10.4002 2.23249 8.96751 0.799805 7.20019 0.799805V1.5998ZM4.96099 4.86556C4.85728 4.59752 4.80019 4.3058 4.80019 3.9998H4.0002C4.0002 4.40608 4.07612 4.7956 4.21487 5.15424L4.96099 4.86556ZM7.20019 6.3998C6.89399 6.3998 6.60207 6.34264 6.33387 6.2388L6.04499 6.9848C6.40387 7.1238 6.79363 7.1998 7.20019 7.1998V6.3998ZM1.2002 7.9998V9.5998H2.0002V7.9998H1.2002ZM1.6002 9.9998H3.2002V9.1998H1.6002V9.9998ZM3.48304 9.88264L4.28303 9.08264L3.71735 8.51696L2.91735 9.31696L3.48304 9.88264ZM4.40019 8.7998V7.5998H3.60019V8.7998H4.40019ZM4.0002 7.9998H5.20019V7.1998H4.0002V7.9998ZM4.30499 4.72716L1.31725 7.71704L1.88314 8.28256L4.87087 5.29264L4.30499 4.72716ZM5.90675 6.3288L4.91751 7.31676L5.48287 7.88284L6.47211 6.89484L5.90675 6.3288Z" fill="white"/>
                <path d="M9.39979 3.20039C9.02635 3.20039 8.66971 3.26844 8.34103 3.39246L8.05859 2.64396C8.47619 2.48641 8.92843 2.40039 9.39979 2.40039C11.4985 2.40039 13.1998 4.10171 13.1998 6.20039C13.1998 6.59047 13.141 6.96683 13.0318 7.32111L12.3457 6.77051C12.3812 6.58591 12.3998 6.39531 12.3998 6.20039C12.3998 4.54355 11.0567 3.20039 9.39979 3.20039Z" fill="white"/>
                <path d="M10.5775 9.53455L10.7083 9.76875C10.3003 9.91835 9.85966 9.99999 9.3999 9.99999C8.03958 9.99999 6.84658 9.28491 6.17578 8.21203L6.7641 7.63379C6.84634 7.78463 6.94118 7.92767 7.04714 8.06143C7.5971 8.75555 8.44674 9.19999 9.3999 9.19999C9.76038 9.19999 10.106 9.13643 10.4261 9.01987L10.5775 9.53455Z" fill="white"/>
                </svg>

                <p class="map-marker__text">${element.text}</p>
                </div>
            </div>`
            );

            var squarePlacemark = new ymaps.Placemark(
                element.coords,
                {
                    hintContent: "–ü–µ—Ä—Ç—Ä–æ–≤—Å–∫–∏–µ —Å–∞–¥—ã",
                    balloonContentBody: `<div class="custom-balloon">${balloonhtml()}</div>`,
                    balloonPanelMaxMapArea: 0,

                },
                {
                    balloonCloseButton: false,
                    balloonPanelMaxMapArea: 0,
                    iconLayout: squareLayout,
                    // –û–ø–∏—Å—ã–≤–∞–µ–º —Ñ–∏–≥—É—Ä—É –∞–∫—Ç–∏–≤–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ "–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫".
                    iconShape: {
                        type: "Rectangle",
                        // –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ –¥–≤—É—Ö —Ç–æ—á–µ–∫ - –≤–µ—Ä—Ö–Ω–µ–π –ª–µ–≤–æ–π –∏ –Ω–∏–∂–Ω–µ–π –ø—Ä–∞–≤–æ–π.
                        coordinates: [
                            [-68, -28],
                            [68, 0],
                        ],
                    },
                }
            );

            squarePlacemark.events.add('balloonopen', () => {
                const balloon = document.querySelector('.custom-balloon');

                balloon.querySelector('.balloon-close')
                    .addEventListener('click', () => {
                        squarePlacemark.balloon.close();
                    });
            });
            clusterer.add(squarePlacemark);
            // myMap.geoObjects.add(squarePlacemark);
        });

        // ‚ùó –¥–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Ç–µ—Ä –Ω–∞ –∫–∞—Ä—Ç—É
        myMap.geoObjects.add(clusterer);
    }

</script>